Function.prototype.memoize=function(){var d={};var a=this;var c=arguments.length>0?arguments[i]:null;var b=function(){var e=[];for(var f=0;f<arguments.length;f++){e[f]=arguments[f]}if(!(e in d)){d[e]=a.apply(c,arguments)}return d[e]};b.unmemoize=function(){return a};return b};Function.prototype.unmemoize=function(){return console.log("Attempt to unmemoize an unmemoized function.")};var MethodProfiler=function(a){this.component=a;this.timers={};for(var b in this.component){if(typeof this.component[b]!=="function"){continue}var c=this;(function(d){c[d]=function(){c.startTimer(d);var e=c.component[d].apply(c.component,arguments);c.displayTime(d,c.getElapsedTime(d));return e}})(b)}};MethodProfiler.prototype.startTimer=function(a){this.timers[a]=(new Date()).getTime()};MethodProfiler.prototype.getElapsedTime=function(a){return(new Date()).getTime()-this.timers[a]};MethodProfiler.prototype.displayTime=function(a,b){console.log(a+": "+b+" ms")};
var timeOut,inCount=0,killTimeOut,openMenu,errorFound=false,openedTime,littleWindow=0,openWindow;function noPopUpOpenWindow(a){window.location=a+(a.indexOf("?")==-1?"?":"&")+"popup=no";littleWindow.opener=self}function windowStr(a,b){return"resizable=yes,scrollbars=yes,width="+(b?b:620)+",height="+(a?a:345)}function popUpOpenWindow(b,c,a){littleWindow=window.open(b,"littleWindow",windowStr(c,a));littleWindow.focus()}openWindow=window.noPopUps?noPopUpOpenWindow:popUpOpenWindow;function rectIntersectsRect(f,k,n,e,o,m,d,c){var g=Math.max(f,o),p=Math.max(k,m),a=Math.min(n,d),h=Math.min(e,c);if(g<=a&&p<=h){return true}else{return false}}function elementIntersectsPopup(c){var d=c.getBoundingClientRect(),a=d.left,b=d.top;try{if(rectIntersectsMenu(a,b,a+c.offsetWidth,b+c.offsetHeight)){return true}}catch(c){}try{if(rectIntersectsDateSelector(a,b,a+c.offsetWidth,b+c.offsetHeight)){return true}}catch(c){}try{if(rectIntersectsRangeSelector(a,b,a+c.offsetWidth,b+c.offsetHeight)){return true}}catch(c){}return false}function showForms(a){if(document.forms&&document.all){for(j=0;j<document.forms.length;j++){theElems=document.forms[j].elements;for(i=0;i<theElems.length;i++){if(theElems[i].type=="select-one"){if(a){if(theElems[i].dirty){theElems[i].style.visibility=theElems[i].oldvisibility;theElems[i].dirty=false}}else{if(elementIntersectsPopup(theElems[i])&&theElems[i].style.visibility!="hidden"){theElems[i].dirty=true;theElems[i].oldvisibility=theElems[i].style.visibility;theElems[i].style.visibility="hidden"}}}}}}}function hideSub(a){if(document.getElementById(a)&&document.getElementById(a).style.position=="absolute"){document.getElementById(a).style.visibility="hidden";document.getElementById(a).style.display="none"}}function highLight(a){image=document.getElementById("img"+a.id);if(image){image.src=image.src.replace("_off","_on")}else{if(a.className.indexOf("main")!=-1){a.className="mainSubHover"}else{if(a.className.indexOf("sub")!=-1){a.className="subMenuHover"}else{a.className="menuHover"}}}}function unhighLight(a){image=document.getElementById("img"+a.id);if(image){image.src=image.src.replace("_on","_off")}else{if(a.className.indexOf("main")!=-1){a.className="mainSub"}else{if(a.className.indexOf("sub")!=-1){a.className="sub"}else{a.className=""}}}}function getIframeDocument(b){if(document.frames){return document.frames[b].document}var a=document.getElementById(b);if(a.contentDocument){return a.contentDocument}else{if(a.contentWindow){return a.contentWindow.document}else{if(a.document){return a.document}}}}function arrayToReadableList(c){var b="";for(var a=0;a<c.length;a++){b+=c[a];if(c.length-a>2){b+=", "}else{if(c.length-a==2){b+=" and "}}}return b}function calcNumSpaces(){var b=document.getElementById("vehicleNumUnreservedSpaces");if(b==null){return}var a=parseInt(document.getElementById("numVehicles").value);var g=0;var d=0;var l=0;var f=0;for(var c=1;c<=a;c++){var h=document.getElementById("vehicleParkingType"+c);var k=(h!=null?h.value:document.getElementById("vehicleDefaultParkingTypeHidden").value);switch(k){case"0":g++;break;case"1":d++;break;case"2":l++;break;case"3":f++;break}}document.getElementById("vehicleNumUnreservedSpaces").value=g;document.getElementById("vehicleNumReservedSpaces").value=d;document.getElementById("vehicleNumCarports").value=l;document.getElementById("vehicleNumGarages").value=f};
var TaxIdRegionCodes=new Array("10","12","60","67","50","53","01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65","30","32","35","36","37","38","61","15","24","40","44","94","95","80","90","33","39","41","42","43","45","46","47","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99","20","26","27","31");var OSM=window.OSM||{};OSM.log=function(){if(window.console&&console.log){return console.log}else{if((window.location+"").indexOf("dev.on-site")!=-1){return function(a){if(!$("pseudoLog")){document.body.appendChild(DIV({id:"pseudoLog"},"LOG",BR()))}$("pseudoLog").innerHTML+=a+"<br/>"}}else{return noop}}}();if(!window.console){window.console={log:OSM.log}}function reload(){if(validate(true)){if(document.forms[0].action.indexOf("?")==-1){document.forms[0].action+="?"}else{document.forms[0].action+="&"}document.forms[0].action+="reload=yes&scroll_to="+(self.pageYOffset?self.pageYOffset:document.body.scrollTop);document.forms[0].action+="&scroll_down="+(self.pageYOffset?self.pageYOffset:document.body.scrollTop);document.forms[0].submit()}}$$(function(){function a(b){return function(){$$(this).toggleClass("hilight",b)}}$$("TABLE.row_action TR").hover(a(true),a(false))});$$(function(){$$("TABLE.row_action TD").click(function(){var a=$$(this);if(!a.is("TR")){a=a.parent()}if(a.find("INPUT.row_action_url").val()){window.location=a.find("INPUT.row_action_url").val()}})});function checkSSN(b,a){return checkSSNs(b,null,a)}function checkSSNs(b,c,a){if(checkStandardSSN(b)){return true}else{if(c!=null&&checkCensoredSSN(c)&&c.value==b.value){return true}else{alert("Please check that you have entered the "+a+" social security number correctly.");b.focus();b.select();return false}}}function checkStandardSSN(c){var a=c.value;var e="";for(var b=0;b<a.length;b++){var d=a.charAt(b);if(!isNaN(parseInt(d))){e+=d}}if(e.length==9){c.value=formatSSN(e);return true}else{return false}}function checkCensoredSSN(b){var a=b.value;var c="";if(a.length!=11){return false}if(isNaN(parseInt(a.charAt(0)))||isNaN(parseInt(a.charAt(1)))||isNaN(parseInt(a.charAt(2)))||isNaN(parseInt(a.charAt(4)))||isNaN(parseInt(a.charAt(5)))){return false}if(a.charAt(3)!="-"||a.charAt(6)!="-"||a.charAt(7)!="*"||a.charAt(8)!="*"||a.charAt(9)!="*"||a.charAt(10)!="*"){return false}return true}function formatSSN(a){return(a.substring(0,3)+"-"+a.substring(3,5)+"-"+a.substring(5))}function checkStandardTaxId(d){var a=d.value;var b="";if(a.length==0){return true}for(var c=0;c<a.length;c++){var e=a.charAt(c);if(!isNaN(parseInt(e))){b+=e}}if(b.length==9&&validRegionCode(b.substring(0,2))){d.value=formatTaxId(b);return true}else{alert("Please check that you have entered the federal tax id correctly.");d.focus();d.select();return false}}function formatTaxId(a){return(a.substring(0,2)+"-"+a.substring(2))}function validRegionCode(b){var a=TaxIdRegionCodes.length;for(var c=0;c<a;c++){if(TaxIdRegionCodes[c]===b){return true}}return false}function checkPercentage(c,a){var b=parseDouble(c.value);if(isNaN(b)){alert("Please enter a numeric amount for the "+a+".");if($$(c).is(":visible")){c.focus();c.select()}return false}if(b>100){alert("The "+a+" may not exceed 100%.");if($$(c).is(":visible")){c.focus();c.select()}return false}c.value=(b+"%");return true}function checkPercentageIfRequired(b,a,c){if(b.value.length==0&&!c){return true}else{return checkPercentage(b,a)}}function checkInt(c,b){var a=parseInt(c.value);if(isNaN(a)){alert("Please enter a number for the "+b+".");if($$(c).is(":visible")){c.focus();c.select()}return false}return true}function checkIntIfRequired(b,a,c){if(b.value.length==0&&!c){return true}else{return checkInt(b,a)}}function checkDouble(c,b){var a=parseDouble(c.value);if(isNaN(a)){alert("Please enter a number for the "+b+".");if($$(c).is(":visible")){c.focus();c.select()}return false}return true}function checkDoubleIfRequired(b,a,c){if(b.value.length==0&&!c){return true}else{return checkDouble(b,a)}}function checkText(c,b,a){trimElement(c);if($$(c).is(":visible")&&(!c.value.length||(a&&c.value==a))){alert("Please enter a value for the "+b+".");c.focus();c.select();return false}return true}function checkDropdown(b,a){if($$(b).is(":visible")&&!b.value.length){alert("Please select a value for the "+a+".");b.focus();return false}return true}function checkEmail(c,a){trimElement(c);var b=c.value.indexOf("@");if(b==-1||c.value.indexOf(".",b)==-1){if(a){alert("Please enter a valid "+a)}else{alert("Please enter a valid email address.")}if($$(c).is(":visible")){c.focus();c.select()}return false}return true}function checkPhoneX(d,b){trimElement(d);var a=0;var f=d.value;for(var c=0;c<f.length;c++){var e=f.charAt(c);if(e>="0"&&e<="9"){a++}}if(a<7){alert("Please enter a valid "+b+" phone number.");if($$(d).is(":visible")){d.focus();d.select()}return false}return true}function isValidPhoneNumber(a,b){var c="\\(?\\d\\d\\d\\)?[ -\\.]*?\\d\\d\\d[ -\\.]*?\\d\\d\\d\\d";trimElement(a);var d=a.value;if(!b&&d.length==0){return true}if(d.match(c+".*")==d){if(d.match(c)==d){a.value=formatPhone(d)}return true}return false}function checkPhoneFull(b,a,c){if(isValidPhoneNumber(b,!c)){return true}var d=b.value;if(c&&d.match("\\s*[Nn]\\s?/?\\s?[Aa]\\s*")==d){b.value="N/A";return true}alert("Please enter a valid "+a+" phone number"+(c?" or enter the value 'N/A'":"")+".\n  All phone numbers MUST include an area code.\n If you have an extension please include it after the phone number.  (e.g. '(555) 123-4567 ext. 347')");if($$(b).is(":visible")){b.focus();b.select()}return false}function checkPhone(b,a){return checkPhoneFull(b,a,false)}function checkPhoneIfNotNull(b,a){trimElement(b);return(b.value==null||b.value.length==0||checkPhoneFull(b,a,false))}function focusIfVisible(a){if($$(a).is(":visible")){a.focus();try{a.select()}catch(b){}}}function formatPhone(a){var d="";if(a==null||a.length<10){return""}for(var b=0;b<a.length;b++){var c=a.charAt(b);if(c>="0"&&c<="9"){d+=c}else{if(c==" "||c=="("||c==")"||c=="."||c=="-"){continue}else{return""}}}return("("+d.substring(0,3)+") "+d.substring(3,6)+"-"+d.substring(6))}function trim(a){return a.replace(/^\s+|\s+$/g,"").replace(/\s\s+/g," ").replace(/\s-\s|\s-|-\s/g,"-").replace(/\s'\s|\s'|'\s/g,"'")}function containsNumbers(a){return/[0-9#]/.test(a)}function trimElement(a){a.value=trim(a.value)}function split(b){var a=new Array();return a}function isPossessiveOrHawaiian(a,b){return/'$/.test(a)&&b=="s"||/[aeiou]'$/.test(a)}function doTitleCase(a){if(a.toLowerCase().indexOf("mc")==0&&a.length>2){return"Mc"+a.charAt(2).toUpperCase()+a.substring(3).toLowerCase()}if(a.indexOf("Mac")==0&&a.length>3&&a.charAt(3).toUpperCase()==a.charAt(3)){return a}return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()}lower_case_words=/^(al|bin|da|de|del|der|el|ibn|izz|la|las|le|los|nee|van|von)$/;function isProtected(a,b,c){return lower_case_words.test(a.toLowerCase())||(b.toLowerCase()+a.toLowerCase()=="de la")||(a+c).toLowerCase()=="l'"||(a+c).toLowerCase()=="d'"||isPossessiveOrHawaiian(b,a)}function titleize(f,a){if(typeof f!=="string"){return f}var f=trim(f),e=f.split(/\s+|_+/);for(var c in e){var d=e[c].slice(0,1),b=e[c].slice(1,e[c].length);e[c]=d.toUpperCase()+(a?b.toLowerCase():b)}return e.join(" ")}function checkTitleCase(e){var j=trim(e.value);var h=j;if(h==h.toLowerCase()){var c=false;h="";while(!c){var d=j.indexOf("'");var g=j.indexOf("-");var b=j.indexOf(" ");var f=j.length-1;var a="";if(d!=-1&&d<f){f=d;a="'"}if(g!=-1&&g<f){f=g;a="-"}if(b!=-1&&b<f){f=b;a=""}var l=j;if(f<j.length-1){l=trim(j.substring(0,f))}else{c=true}if(l.length){if(h.length){var k=h.charAt(h.length-1);if(k!="'"&&k!="-"){h+=" "}}if(!lower_case_words.test(l.toLowerCase())&&(h.toLowerCase()+l.toLowerCase()!="de la")&&(l+a).toLowerCase()!="l'"&&(l+a).toLowerCase()!="d'"&&(!isPossessiveOrHawaiian(h,l))){if(l!=l.toUpperCase()&&!containsNumbers(l)){l=doTitleCase(l)+a}else{l+=a}}else{l=l.toLowerCase()+a}h+=l}if(!c){j=trim(j.substring(f+1))}}}e.value=h}function formatTextArea(elt,msg){var answer=true;with(document){var maxlen=elt.getAttribute("maxlength");var value=elt.value;if(value.length>maxlen){var confirmMsg="Warning, your answer ";confirmMsg+=(msg?'to "'+msg+'" ':"");confirmMsg+="is too long; it can be up to "+maxlen+" ";confirmMsg+='characters.  Please click "OK" if it is alright to ';confirmMsg+="trim your answer to fit.";answer=confirm(confirmMsg);if(answer){elt.value=value.substring(0,maxlen-1)}else{elt.focus();elt.select()}}}return answer}function hideCQ(b){var a=$(b);if(a==null){return}if(a.tagName=="TH"){var c=a.parentNode}else{var c=a.parentNode.parentNode}c.style.display="none";if($(b+"Description")){$(b+"Description").parentNode.style.display="none"}}var hideCq=hideCQ;var hidecq=hideCQ;function showCQ(b){var a=$(b);if(a==null){return}if(a.tagName=="TH"){var c=a.parentNode}else{var c=a.parentNode.parentNode}c.style.display="";if($(b+"Description")){$(b+"Description").parentNode.style.display=""}}var showCq=showCQ;var showcq=showCQ;function hideHeader(a){var b=document.getElementsByTagName("tr");for(thisTR in b){if(b[thisTR].className=="header"){if(b[thisTR].childNodes[0].innerHTML==a){b[thisTR].style.display="none"}}}}function showHeader(a){var b=document.getElementsByTagName("tr");for(thisTR in b){if(b[thisTR].className=="header"){if(b[thisTR].childNodes[0].innerHTML==a){b[thisTR].style.display=""}}}}function getRadioValue(c){var b=document.getElementsByName(c);for(var a=0;a<b.length;a++){if(b[a].checked){return b[a].value}}return null}function hideAllElements(a,b){a=a?a:"*";b=b?"."+b:"";$$(a+b).hide()}function showAllElements(a,b){a=a?a:"*";b=b?"."+b:"";$$(a+b).shpw()}OSM.regexp={};OSM.regexp.namedGroup=function(a){return new XRegExp(a,"k")};OSM.build={};OSM.build.NormalTextbox=function(d,a,b,c){return INPUT({type:"text","class":"NormalInput",id:d,name:a,size:typeof(b)=="undefined"?10:b,value:c})};OSM.build.cancelButton=function(a){return FORMBUTTON({id:a,name:a,"class":"CancelButton NormalButton",value:"Cancel"})};OSM.build.list=function(d,c,a){for(var b=0;b<a.length;b++){d.appendChild(LI({},c(a[b],b)))}return d};OSM.util={};OSM.util.build={};OSM.util.isMSIE=function(){var result=
/*@cc_on!@*/
false;return result};OSM.util.capitalizeWord=function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()};OSM.util.capitalize=function(a){return a.replace(/\w+/g,OSM.util.capitalizeWord)};OSM.util.pluralize=function(b,a){if(a==1){return b}if(b.charAt(b.length-1)=="y"&&b!="day"){b=b.substr(0,b.length-1)+"ie"}return b+"s"};OSM.util.concatAndPluralize=function(c,b,a){if(a){throw ("This version of concatAndPluralize has not yet been implemented; when it is implemented (and true) this function will return 'four companies' instead of '4 companies' (but someone has to write a 4=>four conversion function first)")}return b+" "+OSM.util.pluralize(c,b)};OSM.util.stringList=function(b,a){var c=b.join(", ");if(!a){return c}var d=c.lastIndexOf(",");if(d==-1){return c}return c.slice(0,d)+" "+a+c.slice(d+1)};OSM.util.addToDoc=function(a){appendChildNodes(document.body,a)};OSM.util.centerOnPage=function(f){if(typeof f=="string"){f=$(f)}var e=getViewportPosition();var d=getViewportDimensions();var c=getElementDimensions(f);var a=e.y+d.h/2-c.h/2;var b=e.x+d.w/2-c.w/2;setStyle(f,{left:b+"px",position:"absolute",top:a+"px"})};OSM.util.elementWithStyle=function(b,a){setStyle(b,a);return b};OSM.util.showOverlay=function(a,b){$$("#"+a+"OverlayWindow").show();$$("#"+a+"OverlayFrame").show();$$("#"+a+"OverlayMessage").show();setTimeout(function(){scroll(0,0);document.body.style.overflow="hidden";if(b){b()}},50)};OSM.util.hideOverlay=function(a){$$("#"+a+"OverlayWindow").hide();$$("#"+a+"OverlayFrame").hide();$$("#"+a+"OverlayMessage").hide();document.body.style.overflow=""};OSM.util.coverDialog=function(d,b,c){var e={id:"dialogContainer",style:"display:none"};var a=DIV(e,d);if(c&&b){setElementDimensions(a,{h:c,w:b})}OSM.util.coverDisplay(a);OSM.util.centerOnPage(a);a.style.display=""};OSM.util.uncoverDialog=function(){removeElement("dialogContainer");OSM.util.uncoverDisplay()};OSM.util.build.coverDiv=function(d,c,b){var a=DIV({id:"coverDiv"},b);setStyle(a,{"background-image":"url('/images/cover_bg.png')",display:"block",height:"100%",left:c,position:"absolute",top:d,width:"100%"});return a};OSM.util.build.coverIFrame=function(c,b){var a=createDOM("IFRAME",{id:"coverFrame",src:"javascript:'';"});setStyle(a,{position:"absolute",left:b,opacity:"0",top:c,height:"100%",width:"100%"});return a}.memoize();OSM.util.coverDisplay=function(d){var g=OSM.util.build;document.body.style.overflow="hidden";var b=getViewportPosition();var f=b.x+"px";var e=b.y+"px";var a=g.coverDiv(f,e,d);if(OSM.util.isMSIE()){var c=g.coverIFrame(f,e);OSM.util.addToDoc(c)}OSM.util.addToDoc(a)};OSM.util.uncoverDisplay=function(){removeElement("coverDiv");if(OSM.util.isMSIE()){removeElement("coverFrame")}};OSM.util.monthNames={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"};OSM.util.monthNamesReversed={January:1,February:2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12};OSM.util.monthNamesShort={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};OSM.util.monthNamesShortReversed={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12};OSM.util.setSelectByValue=function(e,d){var a=$(e);var b=a.childNodes;for(var c=0;c<b.length;c++){if(b[c].value==d){a.selectedIndex=b[c].index;return b[c].index}}return null};OSM.util.addOnLoad=function(a){connect(window,"onload",a)};OSM.util.hide=function(a){$$("#"+a).hide()};OSM.util.show=function(a){$$("#"+a).show()};OSM.util.err=function(a){throw new Error(a)};OSM.util.errParamsMissingOneOf=function(b){var a="One of the following parameters is required: ";OSM.util.err(a+OSM.util.stringList(b,"or")+"!")};OSM.util.ensureParam=function(a,b){if(!a[b]){OSM.util.err("The parameter "+b+" is required!")}};OSM.util.ensureOneOfParams=function(a,e,d){var b=filter(partial(operator.contains,a),e);if(b.length==0){OSM.util.errMissingOneOf(e)}if(b.length>1&&d){var c="Only one of the following parameters may be provided: ";OSM.util.err(c+OSM.util.stringList(b,"or")+"!")}};OSM.util.flip=function(a){return function(d,c){return a(c,d)}};OSM.util.format=function(){var c=arguments[0];if(arguments.length>1){for(var a=1;a<arguments.length;a++){var b="\\#\\{"+(a-1)+"\\}";c=c.replace(new RegExp(b,"g"),arguments[a])}}if(/\#\{\d+\}/.test(c)){throw new Error("Unmatched formatting found!")}return c};OSM.util.assignToAll=function(){var a=flattenArray(arguments);if(arguments.length==3&&a[0].constructor!=OSM.util.Assignment){a=[new OSM.util.Assignment(arguments[0],arguments[1],arguments[2])]}forEach(a,function(b){forEach(b.objects,function(c){c[b.key]=b.value})})};OSM.util.Assignment=function(c,a,b){this.objects=c;this.key=a;this.value=b};OSM.util.eventTriggered=function(g,c,d,b,a,f){var h=map(function(e){return g[e]},b);c=partial.apply(this,concat([c],d));if(a){h.push(f)}c.apply(this,h)};OSM.util.hookupEvents=function(a){forEach(a,function(b){forEach(b.objects,function(c){connect(c,b.event,partial(OSM.util.eventTriggered,c,b.fn,b.parameters,b.lateBoundParameters,b.eventObjectRequired))})})};OSM.util.Hookup=function(e,d,b,c,a,f){this.objects=e;this.event=d;this.fn=b;this.parameters=c;this.lateBoundParameters=a;this.eventObjectRequired=f};OSM.util.getNestedProperty=function(c){if(arguments.length==0){return null}if(isUndefinedOrNull(c)){return null}if(arguments.length==1){return c}var a=[];a.push(c[arguments[1]]);for(var b=2;b<arguments.length;b++){a.push(arguments[b])}return getNestedProperty.apply(this,a)};OSM.util.applyDuplicates=function(d,b,c){if(isUndefinedOrNull(d)){return}var e=[];var f={};forEach(d,function(g){var h=g[b];if(isUndefinedOrNull(h)){e.push(g);return}if(isUndefinedOrNull(f[h])){f[h]=[g]}else{f[h].push(g)}});var a=function(g){if(g.length>1){forEach(g,c)}};a(e);forEach(values(f),a)};OSM.util.resizeFrameToFillPage=function(b){if(isFinite(b)){b=this}var a=b.contentWindow;if(a&&a.innerHeight){height=a.innerHeight+a.scrollMaxY}else{if(a.document&&a.document.body&&a.document.body.scrollHeight){height=a.document.body.scrollHeight}}if(isNaN(height)){height=1000}b.style.height=(height+30)+"px"};OSM.util.showDialog=function(a,b){OSM.util.show(a+"Dialog");$$("#"+a+"Dialog").dialog("open");if(b){b()}};OSM.util.hideDialog=function(a){$$("#"+a+"Dialog").dialog("close");OSM.util.hide(a+"Dialog")};$$.widget("ui.dialog",$$.extend({},$$.ui.dialog.prototype,{_title:function(a){if(!this.options.title){a.html("&#160;")}else{a.html(this.options.title)}}}));OSM.util.setupDialog=function(g){var i=$$(g);var f=i.data();var c=f.dialogClass;var d=f.dialogUseCloseButton==true;var e=f.dialogUseActionButton==true;var k=f.dialogActionButtonDisabled==true;var b=f.width||500;var a=d||e;var h;c&&c.length>0&&(c+=" ");i.is(".waiting")&&(c+="waiting");var j={autoOpen:false,bgiframe:true,closeOnEscape:true,dialogClass:c,draggable:false,modal:true,resizable:false,title:f.dialogTitle,width:b};if(a){j.buttons=[];if(e){h={id:f.dialogActionButtonId||"",text:f.dialogActionButtonText||"","class":"NormalButton "+f.dialogActionButtonClass};if(k){h.disabled="disabled"}j.buttons.push(h)}if(d){j.buttons.push({text:"cancel","class":"CancelButton "+(f.dialogCancelButtonClass||""),click:function(){i.dialog("close")}})}}i.dialog(j);i.parent().find(".ui-dialog-buttonpane button").each(function(l,m){m.className=m.className.replace(/ui-[\w-\.]*(?:\s|$)/g,"")})};OSM.util.addParams=function(a){return a+$$("INPUT, SELECT").serialize()};var hookDialogs=function(){jQuery("IFRAME.frame_smart").each(OSM.util.resizeFrameToFillPage);jQuery(".dialog").each(function(){OSM.util.setupDialog(this)});jQuery(".dialog_trigger").click(function(b){var a=this.id.substring(0,this.id.length-13);var c=jQuery(this).data("callback");OSM.util.showDialog(a,c)})};(function(b){b(function(){hookDialogs()});function a(e,d){if(e.attr("areYouSureified")){return}e.attr("areYouSureified",true);var f="#";if(e.is("a")){f=e.prop("href")}var c=b('<span class="areyousure" style="display: none;"><span class="hot">Are&nbsp;you&nbsp;sure?</span> <a href="'+f+'">yes</a>&nbsp;/&nbsp;<a href="#">no</a></span>');if(d&&d.yes&&b.isFunction(d.yes)){b("a",c).eq(0).click(function(){return d.yes.call(e.get(0))})}else{if(!e.is("a")){b("a",c).eq(0).click(function(){if(b(this).attr("wasClicked")){return false}b(this).attr("wasClicked",true);e.click();return false})}}b("a",c).eq(1).click(function(){e.removeAttr("areYouSureing");e.show();c.hide();return false});e.after(c);e.click(function(){if(e.attr("areYouSureing")){return}e.attr("areYouSureing",true);c.show();e.hide();return false})}b.fn.areYouSure=function(c){return b(this).each(function(d){a(b(this),c)})};b.fn.removeAndRezebra=function(d){var i=b(this);var c=i.parents("table");if(d&&d.lastRow&&c.find("tbody tr").size()==1){d.lastRow();return}var g=c[0];var f=g.tr1Color||c.find(".tr1").eq(0).css("background-color");var e=g.tr2Color||c.find(".tr2").eq(0).css("background-color");g.tr1Color=f;g.tr2Color=e;var h=i.parents("tr");h.fadeOut(500,function(){h.remove();c.find("tbody tr").rezebra({animate:true,tr1Color:f,tr2Color:e})})};b.fn.rezebra=function(d){if(d&&d.animate){var e=b(this);e.each(function(){b(this).css("background-color",b(this).css("background-color"))});e.rezebra();e.animate({backgroundColor:"white"},500,function(){if(b(this).is(".tr1")){b(this).animate({backgroundColor:d.tr1Color},500)}else{b(this).animate({backgroundColor:d.tr2Color},500)}})}else{var c=true;return this.each(function(){var f=b(this);f.removeClass("tr1 tr2");if(f.is(":visible")){if(c){f.addClass("tr1")}else{f.addClass("tr2")}c=!c}})}};b.fn.emptySelect=function(){return this.each(function(){if(this.tagName==="SELECT"){this.options.length=0}})};b.fn.loadSelect=function(c,d,e){return this.emptySelect().each(function(){if(this.tagName!=="SELECT"){return true}var f=$$(this);b.each(c,function(h,i){var g=false;if(d){g=i.value===d}else{if(e){g=i.caption===e}}f.append("<option value='"+escape(i.value)+"'"+(g?" selected":"")+">"+i.caption+"</option>")})})};b.fn.checkAll=function(d){var c=this;this.prop("checked",b(d+":checked").length==b(d).length);b(d).click(function(){c.prop("checked",b(d+":checked").length==b(d).length)});return this.click(function(){b(d).prop("checked",b(this).is(":checked"))})};b.createPropertyChangeEvent=function(d,e,g,c){var f=e[g];setInterval(function(){var h=e[g];if(h!=f){b(e).trigger(d,[h,f])}f=h},c||100)};b.fn.setClass=function(c,d){if(b.isFunction(d)){return this.each(function(){b(this).setClass(c,d.call(this))})}if(d){this.addClass(c)}else{this.removeClass(c)}return this};b.fn.setAttr=function(c,d,e){if(b.isFunction(e)){return this.each(function(){b(this).setAttr(c,d,e.call(this))})}if(b.isFunction(d)){return this.each(function(){b(this).setAttr(c,d.call(this),e)})}if(e){this.attr(c,d)}else{this.removeAttr(c)}return this}})(jQuery);function setCookie(b,c,a){var d=new Date();d.setDate(d.getDate()+a);document.cookie=b+"="+escape(c)+((a==null)?"":";expires="+d.toUTCString())}function getCookie(a){if(document.cookie.length>0){c_start=document.cookie.indexOf(a+"=");if(c_start!=-1){c_start=c_start+a.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}return unescape(document.cookie.substring(c_start,c_end))}}return""}function addStar(a){$$.each(a,function(d,f){var c=$$("#"+f);c=c.length?c:$$("[name="+f+"]:eq(0)");if(!c.length){return null}var b=c.closest("TR");var e=b.find("TD[class~=label]");e.removeClass().addClass("form_label_required")})}OSM.util.hasChromePdfViewer=function(){if(!navigator||!navigator.plugins){return false}return $$.grep(navigator.plugins,function(a){return a.name.indexOf("Chrome PDF Viewer")!=-1}).length>0};OSM.util.getScrollbarWidth=function(){var c=$$("<div>").css({height:50,left:-1000,overflow:"hidden",position:"absolute",top:-1000,width:100});c.appendTo(document.body);var a=$$("<div>").css({width:"100%",height:200});c.append(a);var d=a.get(0).offsetWidth;c.css("overflow","auto");var b=a.get(0).offsetWidth;c.remove();return d-b};OSM.util.getBrowserWidth=function(a){var b=a?OSM.util.getScrollbarWidth():0;if(document.documentElement&&document.documentElement.clientWidth!=0){return document.documentElement.clientWidth-b}else{if(window.innerWidth){return window.innerWidth-b}else{if(document.body){return document.body.clientWidth-b}}}return 0};OSM.util.compare=function(b,a){return b>a?1:b<a?-1:0};OSM.util.startsWith=function(a,b){return b!=null&&a!=null&&b.indexOf(a)==0};OSM.util.endsWith=function(a,b){return b!=null&&a!=null&&b.lastIndexOf(a)==Math.max(b.length-a.length,0)};OSM.util.contains=function(b,a){return a!=null&&b!=null&&a.indexOf(b)>=0};OSM.util.isPhoneOrFaxField=function(a){return OSM.util.contains("phone",a)||OSM.util.contains("fax",a)};OSM.util.isEmailField=function(a){return OSM.util.contains("email",a)};OSM.util.isDateField=function(a){return OSM.util.contains("date",a)||OSM.util.endsWith("start",a)||OSM.util.endsWith("end",a)||OSM.util.contains("movein",a)||OSM.util.contains("moveout",a)};OSM.util.isMoneyField=function(a){return OSM.util.contains("salary",a)||OSM.util.contains("amount",a)};OSM.util.isNameField=function(a){return OSM.util.contains("name",a)};OSM.util.isStreetField=function(a){return OSM.util.contains("street",a)};OSM.util.isCityField=function(a){return OSM.util.contains("city",a)};OSM.util.isStateField=function(a){return OSM.util.contains("state",a)};OSM.util.isZipField=function(a){return OSM.util.contains("zip",a)};OSM.util.removeNumbers=function(c){var a="";for(var b=0;b<c.length;b++){if(isNaN(parseInt(c[b]))){a+=c.charAt(b)}}return a};OSM.util.autoFillField=function(a){if(a.val()){return}var b=OSM.util.removeNumbers(a.prop("id").toLowerCase());if(!b){b=OSM.util.removeNumbers(a.prop("name").toLowerCase())}if(OSM.util.isPhoneOrFaxField(b)){a.val("(555) 555-5555")}else{if(OSM.util.isEmailField(b)){a.val("fake@email.com")}else{if(OSM.util.isDateField(b)){a.val("01/01/2001")}else{if(OSM.util.isMoneyField(b)){a.val("$500.00")}else{if(OSM.util.isNameField(b)){a.val("Fred Flintstone")}else{if(OSM.util.isStreetField(b)){a.val("234 Main St.")}else{if(OSM.util.isCityField(b)){a.val("San Jose")}else{if(OSM.util.isStateField(b)){a.val("CA")}else{if(OSM.util.isZipField(b)){a.val("95129")}else{a.val("***FAKE VALUE***")}}}}}}}}}};OSM.util.autoFillUnfilledFields=function(){$$("INPUT[type='text'][value='']:visible, TEXTAREA[value='']:visible").each(function(){OSM.util.autoFillField($$(this))});$$("SELECT:not(:has(:selected))").prop("selectedIndex",1);$$("OPTION:selected:contains('--- Select One ---')").add("OPTION:contains('please select')").add("OPTION:contains('Please Specify')").add("OPTION:contains('Specify')").add("option[value='']").parent().prop("selectedIndex",2);var b=function(c,d){return d.name};var a=$$("INPUT[type=radio]:visible").map(b);$$.each(a,function(d,c){if($$("INPUT[name='"+c+"']:checked").length){return true}$$("INPUT[name='"+c+"']:eq(0)").prop("checked",true)})};OSM.util.randomNumber=function(b,a){return Math.floor(Math.random()*(a-b))+b+1};OSM.util.emptyInputSelectorForId=function(a){return"#"+a+"[value=''], #"+a+":not([value])"};var autoFill=function(){if(window.RI&&RI.autoFill){return RI.autoFill(true)}if(window.TE&&TE.autoFill){return TE.autoFill(true)}return OSM.util.autoFillUnfilledFields()};
var sixDigitDateRegExp=/^(\d{2})(\d{2})(\d{2})$/;var eightDigitDateRegExp=/^(\d{2})(\d{2})(\d{4})$/;var slashDelineatedDateRegExp=/^(\d{1,2})\/(\d{1,2})\/(\d{2,4})$/;var dashDelineatedDateRegExp=/^(\d{1,2})\-(\d{1,2})\-(\d{2,4})$/;var dashDelineatedDateYearFirstRegExp=/^(\d{4})\-(\d{1,2})\-(\d{1,2}).*$/;var ONE_DAY=24*60*60*1000;var MAX_AGE_IN_YEARS=120;function parseDate(i){var c=1;var a=2;var b=3;var d=sixDigitDateRegExp.exec(i)||eightDigitDateRegExp.exec(i)||slashDelineatedDateRegExp.exec(i)||dashDelineatedDateRegExp.exec(i);if(!d){d=dashDelineatedDateYearFirstRegExp.exec(i);b=1;c=2;a=3}if(!d){return null}var e=parseInt(d[c],10);var h=parseInt(d[a],10);var g=parseInt(d[b],10);if(e>12||h>31){return null}if(g<100){g+=g<20?2000:1900}var f=new Date();f.setYear(g);f.setDate(1);f.setMonth(e-1);f.setDate(h);return f}function addMonths(g,a,e){if(e.use30DayMonths&&e.use30DayMonths==true){var c=new Date(g);c.setDate(c.getDate()+(a*30));var f=c.getDate();var h=c.getMonth();var d=c.getFullYear()}else{var f=g.getDate();var h=g.getMonth()+a;var d=g.getFullYear();if(h>11){d+=Math.floor(h/12);h=h%12}}var b=numDaysInMonth(h,d);if(b<f){f=b}else{f-=1}return new Date(d,h,f)}function numDaysInMonth(c,b){var a=[31,28,31,30,31,30,31,31,30,31,30,31];if(c!=1){return a[c]}return((b%4==0&&b%100!=0)||b%400==0)?29:28}function addDays(c,a){var b=new Date(c.getTime()+a*ONE_DAY);return b}function dateToMonthEnd(a){var b=a.getMonth();while(a.getMonth()==b){a.setDate(a.getDate()+1)}a.setDate(a.getDate()-1);return a}function formatDate(a){if(!a){return""}var b=(a.getMonth()+1);return b+"/"+a.getDate()+"/"+a.getFullYear()}function getMonthLength(b){var a=new Array(31,28,31,30,31,30,31,31,30,31,30,31);var c=b.getMonth();if(c!=1){return a[c]}if((theYear%4==0&&theYear%100!=0)||theYear%400==0){return 29}else{return 28}}function checkDate(b,a,d){if(/^\*+\/\*+\/\*+$/.test(b.value)){return true}var c=parseDate(b.value);if(c!=null){b.value=formatDate(c);return true}else{if(a==null){a=""}if(a.indexOf("date")==-1){a+=" date"}if(!d){alert("Please check that the "+a+" is in\n the format M/D/YYYY.")}b.focus();b.select();return false}}function checkDateIfRequired(b,a,c){if(!c&&b.value.length==0){return true}else{return checkDate(b,a)}}function compareDates(b,d){var c=new Date(Date.parse(b));c.setHours(23);c.setMinutes(59,59,999);var a=new Date(Date.parse(d));return((c.getTime()+1)-a.getTime())}function checkBirthDate(c,b){if(c==null||c.value==null||c.length==0){return true}var e=parseDate(c.value);if(e==null){return true}e.setHours(0,0,0,0);var d=new Date();d.setFullYear(d.getFullYear()-b);d.setHours(0,0,0,0);var a=new Date();a.setFullYear(a.getFullYear()-MAX_AGE_IN_YEARS);a.setHours(0,0,0,0);if(e<=d&&e>=a){return true}return false}function checkDateOneYearInPast(b,a){if(checkBirthDate(b,1)){return true}if(a==null){a=""}if(a.indexOf("date")==-1){a+=" date"}alert("Please check that "+a+" is at least 1 year in the past and not more than "+MAX_AGE_IN_YEARS+" years ago.");b.focus();b.select();return false}function checkDependentBirthDate(a){if(checkBirthDate(a,0)){return true}alert("Please check that the birth date is in the past and is not more than "+MAX_AGE_IN_YEARS+" years ago.");a.focus();a.select();return false}function setToStartOfDay(b){var a=new Date();a.setTime(b.getTime());a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function firstDayOfMonth(b){var a=new Date();a.setTime(b.getTime());a.setDate(1);a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function createDate(a,d,c){var b=new Date();b.setFullYear(c,d,a);b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);return b}function areSameDay(d,c){var b=setToStartOfDay(d);var a=setToStartOfDay(c);return b.getTime()==a.getTime()};
function parseDouble(c){if(!isNaN(c)){return parseFloat(c)}var b=false;if(c.indexOf("-")!=-1){c=c.substring(c.indexOf("-")+1);b=true}else{if(c.indexOf("(")!=-1&&c.indexOf(")")!=-1){c=c.substring(c.indexOf("(")+1,c.indexOf(")"));b=true}}if(c.indexOf("$")!=-1){c=c.substring(c.indexOf("$")+1)}while(c.indexOf(",")!=-1){var a=c.indexOf(",");c=c.substring(0,a)+c.substring(a+1)}num=parseInt(c);if(isNaN(num)){return num}pointIndex=c.indexOf(".")+1;if(pointIndex>0&&pointIndex<c.length){dec=parseInt(c.substring(pointIndex,pointIndex+1));if(isNaN(dec)){return dec}num+=dec/10;cents=parseInt(c.substring(pointIndex+1,pointIndex+2));if(!isNaN(cents)){num+=cents/100;num=Math.round(num*100)/100}}if(b){num=-num}return num}function moneyFormat(c,f){if(f==undefined){f=true}var e="$";if(c<-0.005){e="-$"}c=Math.abs(c);firstPart=Math.floor(c);secondPart=Math.round((c-firstPart)*100);if(secondPart==100){firstPart+=1;secondPart=0}var b="";var a=true;while(firstPart>0||a){a=false;remainder=firstPart%1000;firstPart-=remainder;firstPart=firstPart/1000;if(remainder>=100||firstPart<=0){b=remainder+b}else{if(remainder>=10){b="0"+remainder+b}else{b="00"+remainder+b}}if(firstPart>0){b=","+b}}var d=e+b;if(secondPart>0.001||f){if(secondPart<10){d+=(".0"+secondPart)}else{d+=("."+secondPart)}}return d}function moneyFormatSafe(a,b){a=parseDouble(a);if(isNaN(a)){return moneyFormat(0,b)}return moneyFormat(a,b)}function moneyFormatShort(a,b){a=moneyFormatSafe(a);return a.replace(/.00$/,"")}function checkMoney(e,c,g){if(!$$(e).is(":visible")){return true}var f=true;var b=$$.trim(e.value);var a=new RegExp("[^-0-9.,$()]");if((b.length==0)||(a.test(b))){f=false}var d;if(f){d=parseDouble(e.value);if(isNaN(d)){f=false}}if(!f){alert("Please enter a numeric amount for the "+c+".");e.focus();e.select();return false}e.value=moneyFormat(d,g);return true}function checkMoneyIfRequired(b,a,d,c){if(!d&&b.value.length==0){return true}else{return checkMoney(b,a,c)}}function checkMoneyMinimum(c,a,d,e){if(!$$(c).is(":visible")){return true}if(!checkMoney(c,a)){return false}if(d!=null){var b=parseDouble(c.value);if(b<d){if(e!=null){alert(e)}else{alert("The "+a+" must be at least "+moneyFormat(d))}if($$(c).is(":visible")){c.focus();c.select()}return false}}return true}function checkMoneyMinimumIfRequired(b,a,c,d,e){if(!e&&b.value.length==0){return true}else{return checkMoneyMinimum(b,a,c,d)}}function periodToMonthly(a,b){if(isNaN(a)){return a}switch(b){case 1:return a*4.3;case 3:return a/12;default:return a}};
function areMoniesEqual(d,c){var b=isNaN(d)?parseDouble(d):d;var a=isNaN(c)?parseDouble(c):c;if(isNaN(b)||isNaN(a)){return false}return Math.abs(b-a)<0.00001}function getParent(a){if(a.parentNode){return a.parentNode}if(a.parentElement){return a.parentElement}return null}function findErrorSpan(a){var b=getParent(a);if(b==null){return null}b=getParent(b);if(b==null){return null}var c=b.firstChild;while(c!=null){if(c.className=="error"){return c}c=c.nextSibling}return null}function checkMoneyValue(d,g,c){var f=d.value;if(!checkMoney(d,g)){return false}var b=parseDouble(f);var a=c?-0.00001:0.00001;var e=findErrorSpan(d);if(!isNaN(b)&&b<a){if(e==null){alert("Please enter an amount greater than zero for the "+g+".")}else{e.innerHTML="Please enter an amount greater than zero."}d.focus();d.select();return false}if(e!=null){e.innerHTML=""}return true}function checkMoneyValueIsPositive(a,b){return checkMoneyValue(a,b,false)}function checkMoneyValueIsNonNegative(a,b){return checkMoneyValue(a,b,true)}function checkMoneyIsValidOrBlank(a,b){if(trim(a.value)==""){return true}if(!checkMoney(a,b)){return false}return true}function setMoneyCellValue(a,b){if(isNaN(b)){a.style.color="";b="******"}else{if(b<-0.00001){a.style.color="red"}else{a.style.color=""}b=moneyFormat(b)}a.innerHTML=b}function createDate(a,d,c){var b=new Date();b.setFullYear(c,d,a);b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);return b}function validateAccountingDate(a,c,e){var b=Date.parse(a.value);if(b<c){alert("The "+e+" is within an accounting month that has been closed.\n\nPlease select a more recent date.");a.focus();return false}var d=new Date();d.setDate(d.getDate()+45);if(b>d){alert("The "+e+" is too far in the future.\n\nPlease select another date.");a.focus();return false}return true}(function(a){a.guards.name("nonClosedAccountingDate").using(function(e,c){var b=Date.parse(e);var d=a(c).data("firstOpen");return b>=d}).message("This date is within a closed accounting month.");a.guards.name("nonFuturisticAccountingDate").using(function(d,c){var b=Date.parse(d);var e=new Date();e.setDate(e.getDate()+45);return b<=e}).message("This date is too far in the future.")})(jQuery);
