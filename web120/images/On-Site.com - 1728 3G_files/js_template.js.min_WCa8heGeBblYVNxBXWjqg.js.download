(function(d){d.template=function(v,u){var p=i[v];if(!p){var t=document.getElementById(v).innerHTML;var n=String.fromCharCode(21);var s=n+"=";t=t.replace(e,c+n);var r=t.split(b);var o="with (arguments[0]) {";o+="var output=''; var ld='"+c+"'; var rd='"+k;o+="'; ";for(var q=0;q<r.length;q++){var w=r[q];if(l(w,s)){o+=" output+="+w.substring(s.length)+"; "}else{if(l(w,n)){o+=" try{output+="+w.substring(n.length)+";}catch(e) { if (e.name != 'ReferenceError' && e.name != 'TypeError') throw e}"}else{o+=" output+='"+w.replace(j,"\\'").replace(f," ")+"'; "}}}o+=" return output;}";p=new Function(o);i[v]=p}return p(u)};d.fn.template=function(o,n){this.replaceWith(d.template(o,n));return this};d.fn.templateAppend=function(o,n){this.append(d.template(o,n));return this};d.fn.appendEach=function(n,p){var o=this;d.each(n,function(q,r){p?o.append(p(q,r)):o.append(val)})};d.fn.templateAppendEach=function(o,n){this.appendEach(n,function(p,q){if(!q.index){q.index=p}return d.template(o,q)})};var i={};var c="{{";var k="}}";var m="{{";var a="}}";var h=["$","^","?","/",".","*","+","?","|","(",")","[","]","{","}","\\"];var g=new RegExp("(\\"+h.join("|\\")+")","g");var e=new RegExp(m,"g");var b=new RegExp(m+"|"+a,"g");var j=new RegExp("'","g");var f=new RegExp("\\r|\\n","g");d.fn.template.setDelimiters=function(n,o){if(n!=o){c=n;m=c.replace(g,"\\$1");e=new RegExp(m,"g");k=o;a=k.replace(g,"\\$1");b=new RegExp(m+"|"+a,"g")}};function l(o,n){return o.substring(0,n.length)==n}d.fn.cval=function(){return this.is(":checkbox:not(:checked)")?null:this.val()}})(jQuery);
